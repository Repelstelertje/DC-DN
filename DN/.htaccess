RewriteEngine on

Options +FollowSymLinks

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [QSA]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^date-mit-([^/]+)/?$ profile.php?slug=$1 [L,QSA]

RewriteRule ^dating-deutschland/?$ land.php?land=de [L,QSA]
RewriteRule ^dating-osterreich/?$  land.php?land=at [L,QSA]
RewriteRule ^dating-schweiz/?$     land.php?land=ch [L,QSA]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^dating-([^/]+)/?$ province.php?item=$1 [L,QSA]

# Redirect old datingtips URLs
RewriteRule ^datingtips-([^/]+)/?$ /datingtipps-$1 [R=301,L]
RewriteRule ^datingtips/?$ /datingtipps [R=301,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^datingtipps-([^/]+)/?$ datingtips.php?tip=$1 [L,QSA]

# Allow accessing the base tips page via /datingtipps
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^datingtipps/?$ datingtips.php?tip=datingtipps [L,QSA]

ErrorDocument 404 /404.php

<IfModule mod_deflate.c>
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>
<FilesMatch "\.zip$">
  Require all denied
</FilesMatch>